# HTTP Task Service

Сервис на Go 1.24, эмулирующий долгие I/O-задачи (3 минуты) и предоставляющий HTTP API для их управления.

## Запуск

```bash
# клонируем репозиторий
cd tz

# установка зависимостей
go mod tidy

# запуск
go run ./cmd/server
```

Сервер поднимется на `http://localhost:8080`.

## API

| Метод | Путь           | Описание                     |
|-------|----------------|------------------------------|
| POST  | /tasks         | Создать задачу               |
| GET   | /tasks/{id}    | Получить статус задачи       |
| GET   | /tasks         | Получить все задачи          |
| DELETE| /tasks/{id}    | Отменить и удалить задачу    |

### Создать задачу
```
POST /tasks
-> 202 Accepted
Location: /tasks/{id}
{
  "id": "…",
  "status": "created",
  "created_at": "2024-05-30T12:00:00Z",
  "duration": 0
}
```

### Получить статус
```
GET /tasks/{id}
{
  "id": "…",
  "status": "running",
  "created_at": "…",
  "duration": 125.34
}
```

### Список задач
```
GET /tasks
[
  { … },
  { … }
]
```

### Удалить / отменить
```
DELETE /tasks/{id} -> 204 No Content
```

## Расширение

Сервис без внешних зависимостей и БД. Добавление новых типов задач требует лишь имплементировать новую функцию `runTask`. Код покрыт логгированием и отменой через контекст. 